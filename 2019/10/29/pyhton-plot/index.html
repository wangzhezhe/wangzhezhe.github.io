<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Pyhton plot | AverageMind</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Some commonly used library and tips that draw graphs by python such as the bar graph, line graph, gant chart. etc.bar">
<meta property="og:type" content="article">
<meta property="og:title" content="Pyhton plot">
<meta property="og:url" content="http://yoursite.com/2019/10/29/pyhton-plot/index.html">
<meta property="og:site_name" content="AverageMind">
<meta property="og:description" content="Some commonly used library and tips that draw graphs by python such as the bar graph, line graph, gant chart. etc.bar">
<meta property="og:locale">
<meta property="article:published_time" content="2019-10-29T01:59:00.000Z">
<meta property="article:modified_time" content="2023-11-05T22:03:29.414Z">
<meta property="article:author" content="zhe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="AverageMind" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-165927341-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
<!-- Google adds -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5642436380582343"
     crossorigin="anonymous">
</script>
<!-- End Google adds -->




  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AverageMind</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-pyhton-plot" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/29/pyhton-plot/" class="article-date">
  <time datetime="2019-10-29T01:59:00.000Z" itemprop="datePublished">2019-10-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Pyhton plot
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>Some commonly used library and tips that draw graphs by python such as the bar graph, line graph, gant chart. etc.bar</p>
<span id="more"></span>
<p>The benifits of using the pyplot instead of the google chart is that you can edit the figure easily. Such as the size of the figure and the style of the figure. We may use the google sheet to get some general feelings about the orignal data and then use the python plot to draw the figure that will be used in the paper.</p>
<h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><p>This is the <a target="_blank" rel="noopener" href="https://github.com/wangzhezhe/5MCST/tree/master/python_plot_example">repo</a> that shows some basic python based graph. The detailed explanation can be found as follows:</p>
<p><strong>Default bar graph</strong></p>
<p>This exmpale shows how to draw the bar graph and how to add specific error bar for each bar.</p>
<p><strong>Splited bar graph</strong></p>
<p>This example shows how to draw a bar graph with the cut off between the bar, if we draw the whole bar, the difference between different bar might be insignificant. If we reset the start point of the y axis, the error bar might become too obvious, this figure is a kind of trade off when your data is not good enough.</p>
<p><strong>Accumulated bar graph</strong></p>
<p><strong>Gant chart</strong></p>
<p>This is an example about the gant chart, it is an important type that shows the execution time for the each component of the MPI program. Be careful about the meaning of the x and y values in the <code>broken-barh</code> the xranges contains a list of tuple, each one defines the start point and the end point of the bar, then the y range defines the height of the bar.</p>
<p><strong>Line graph</strong></p>
<p>This is a simple graph about the line chart.</p>
<p><strong>Line with the error region</strong></p>
<p>This is used to show the case where there are errors for prediction results, we can show some uncertainty of the prediction, which can provides better prediction visualization results. </p>
<p><strong>2d grid</strong></p>
<p>This is an example for the grid graph. It basically visualize a 2d matrix, the color of each cell is the value in the matrix.</p>
<p><strong>2d surface</strong></p>
<p><strong>subfigures</strong></p>
<p>The subfigures use another different set of api to controrl things, if we do not set numbers in the subplots, that returned axs is one element, if we set numbers here, it returns a list.</p>
<h3 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h3><p>alpha parameter can adjust tranparency of the color, it can make the color more soft and looks comfortable, such as using 20% for the default red color can change it into the soft pink color.</p>
<h3 id="Legend"><a href="#Legend" class="headerlink" title="Legend"></a>Legend</h3><p>In most cases, we can use the defualt one associated with the graph</p>
<p>We can also use the customized legend.</p>
<p>Such as this</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/39500265/how-to-manually-create-a-legend">https://stackoverflow.com/questions/39500265/how-to-manually-create-a-legend</a></p>
<h3 id="Axis"><a href="#Axis" class="headerlink" title="Axis"></a>Axis</h3><p>The axis is different if using the subplot to draw multiple figures in one large figure.</p>
<h3 id="Size-and-font"><a href="#Size-and-font" class="headerlink" title="Size and font"></a>Size and font</h3><p>use the <code>bbox_inches=&#39;tight&#39;</code> is one prefered option. The saving figure does not contains extra blank in this way.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>png and the pdf.</p>
<p>Save the figure as the pdf if it is possible.<br>If we can not render the pdf in the place that use this figure, set the png, but pay attention to the resolution of the png, we want to provide enough resolution here.</p>
<h3 id="Scatter-plot-with-density"><a href="#Scatter-plot-with-density" class="headerlink" title="Scatter plot with density"></a>Scatter plot with density</h3><p>One useful figure is to draw the scatter plot, if there are more dots at specific region, then there should be a higher density. The original way is just plot that figure using the scatter. But it could not show the density if all scattered points are same. A good way is to set the alpha value as 0.1, so when there are more points, the color at specific has a higher density value. Which can show the graph in a intuitive way. However, one drawback for this kind of figure is that, if there are large number of points, drawing figure like this is time consuming.</p>
<p>One way is to use the 2d histogram to draw this kind of figure. When there are large number of dots at a specific region, then highlight it and give it a higher density. </p>
<p>This is a good exmaple:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/wangzhezhe/VisPerfExp/blob/main/logparservtkm2.0/parser_particles_draw_histogram.py">https://github.com/wangzhezhe/VisPerfExp/blob/main/logparservtkm2.0/parser_particles_draw_histogram.py</a></p>
<h3 id="Small-trick-between-plot-and-barchart"><a href="#Small-trick-between-plot-and-barchart" class="headerlink" title="Small trick between plot and barchart"></a>Small trick between plot and barchart</h3><p>It seems that the plot chart can process the x axis automatically. Which means that we do not take care about how to map the value of x axis to the size of the figure, it will be adjusted automatically. For the bar chart, we can not do that. If we use the same x axis and y axis used in previous plot chanrt, we need to map that actual x axis into the position of the figure size. For example, if the data range of x axis is from 0 to 1000, than we need to map the x axis to <code>figure size at horizental * x/1000</code> to get the correct position of the figure. Be careful about this trick. Otherwise, the x position of the figure is in correct.</p>
<h3 id="EdgeColor"><a href="#EdgeColor" class="headerlink" title="EdgeColor"></a>EdgeColor</h3><p>When drawing bar chart with small region, the edgecolor should be set as none. Otherwise, the edge might be overlapped together when two bars are close to each other, this might cause some visual artifacts and make data looks bad.</p>
<h3 id="Log-scale"><a href="#Log-scale" class="headerlink" title="Log scale"></a>Log scale</h3><p>Sometimes we might adopt log scale to make the graph more clear. Be careful about the axis tick of log scale, it should still be the original value before applying the log. For example, assuming the x axis is 2 4 8 … if we do not use log scale, the position of 2 is at place where there are 2 unit, 4 is labeled at place where there are 4 unit etc. After using log scale, such as base of 2, we are still using same tick, such as 2 ,4, 8 … The only difference is that we label them at different position. 2 is labeled at position where there is unit 1, 4 is labeled at position where there is unit 2…</p>
<p>This is similar for y scale, we still use the original value (the actual y value when we set the tick), the only difference is the tick position, the tick position after using log scale changes to the log(y), where y is the original <strong>tick position</strong> instead of the origianl tick value. Be careful about this !!!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/29/pyhton-plot/" data-id="cmbw030is009rj8jrf7ppdsn8" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2019/12/30/fall-story/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Fall Story
        
      </div>
    </a>
  
  
    <a href="/2019/09/01/Halfmoon-Story/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Halfmoon Story</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Style"><span class="toc-number">1.</span> <span class="toc-text">Style</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Color"><span class="toc-number">2.</span> <span class="toc-text">Color</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Legend"><span class="toc-number">3.</span> <span class="toc-text">Legend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Axis"><span class="toc-number">4.</span> <span class="toc-text">Axis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Size-and-font"><span class="toc-number">5.</span> <span class="toc-text">Size and font</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Output"><span class="toc-number">6.</span> <span class="toc-text">Output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scatter-plot-with-density"><span class="toc-number">7.</span> <span class="toc-text">Scatter plot with density</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Small-trick-between-plot-and-barchart"><span class="toc-number">8.</span> <span class="toc-text">Small trick between plot and barchart</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EdgeColor"><span class="toc-number">9.</span> <span class="toc-text">EdgeColor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-scale"><span class="toc-number">10.</span> <span class="toc-text">Log scale</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2025 zhe&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;godenwangzhe@gmail.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->




 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>