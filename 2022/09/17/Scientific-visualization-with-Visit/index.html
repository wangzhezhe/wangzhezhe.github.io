<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Scientific visualization with Visit | AverageMind</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Some notes about using the Visit to do the scientiifc visulization.">
<meta property="og:type" content="article">
<meta property="og:title" content="Scientific visualization with Visit">
<meta property="og:url" content="http://yoursite.com/2022/09/17/Scientific-visualization-with-Visit/index.html">
<meta property="og:site_name" content="AverageMind">
<meta property="og:description" content="Some notes about using the Visit to do the scientiifc visulization.">
<meta property="og:locale">
<meta property="og:image" content="http://yoursite.com/images/FigVisitExpression.png">
<meta property="article:published_time" content="2022-09-18T01:57:42.000Z">
<meta property="article:modified_time" content="2023-12-05T04:09:14.858Z">
<meta property="article:author" content="zhe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/images/FigVisitExpression.png">
  
    <link rel="alternate" href="/atom.xml" title="AverageMind" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-165927341-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
<!-- Google adds -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5642436380582343"
     crossorigin="anonymous">
</script>
<!-- End Google adds -->




<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AverageMind</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Scientific-visualization-with-Visit" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/09/17/Scientific-visualization-with-Visit/" class="article-date">
  <time datetime="2022-09-18T01:57:42.000Z" itemprop="datePublished">2022-09-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Visualization/">Visualization</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Scientific visualization with Visit
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>Some notes about using the Visit to do the scientiifc visulization.</p>
<span id="more"></span>

<p>It is quite popular to use the Paraview to do the scientific visulization. But in some cases, using the Visit might be a better option. For example, the visit is good at processing the data in <code>hdf5</code> format and in <code>soli</code> format, the paraview is not really good at processing data in these types. There are some learning curves for doing thes since the visit is not that much straightforward to use</p>
<p>This is the complete online <a target="_blank" rel="noopener" href="https://visit-sphinx-github-user-manual.readthedocs.io/en/develop/getting_started/index.html">document of the Visit</a>.</p>
<p>This is the OLCF tutorial about the visit, it contains some detialed operation such as how to connect to the remote server etc.(<a target="_blank" rel="noopener" href="https://github.com/olcf/dva-training-series/tree/main/visit">https://github.com/olcf/dva-training-series/tree/main/visit</a>)</p>
<h3 id="Scalar-Visualization"><a href="#Scalar-Visualization" class="headerlink" title="Scalar Visualization"></a>Scalar Visualization</h3><p>In most cases, after loading the data, when click the <code>Add</code> button, then goes to the <code>Contour</code>, then goes to the mesh, to select the suitable parameters you want to visualize. The really important thing is that you need to hit <code>Draw</code> button automatically to get some visualized results. This is a little bit different compared with Paraview (In Paraview, the data is generated automatically after you click the filter.)</p>
<p>Another way to show the 1d data is to go to the <code>Add</code> and then <code>Pseudocolor</code> direactly. At the mesh section, just click the suitable variable you want to visualize, but this way only map the color into one specific surface. we could not get more details about how things look like inner that surface. Which is not good compared with using the contour to present things.</p>
<h3 id="Vector-Visualization"><a href="#Vector-Visualization" class="headerlink" title="Vector Visualization"></a>Vector Visualization</h3><p>The typical way to show the vector filed is to click the <code>Add</code> and then go to the <code>Vector</code> section, if there is a specific vector field in the data, then after drawing the figure, we could show out the vector direactly (this is really great tool to get the idea of the vector field quickly, and it is more convenient than using the ParaView for vector visualization here). Then by double clicking the associated added vector’s column, we can update the value assocated with the sampling field to check different result views. This is a <a target="_blank" rel="noopener" href="https://visit-sphinx-github-user-manual.readthedocs.io/en/v3.2.0/gui_manual/Plots/PlotTypes/VectorPlot.html">online tutorial</a> that shows these details.</p>
<p>One convenient thing in Visit is to create the new expression based on the existing variables. For example, if we store the <code>velocity_x, velocity_y, and velocity_z</code> separately, we can create a new expression to create a vector based on these parameters. The following screenshot shows how to create the vector expression from the scalar:</p>
<img src="/images/FigVisitExpression.png" width="800"/>

<p>Be careful about the gramma of the expression.</p>
<p>A little bit tricky part is executing the streamline, it is not that much straightforward. We need to click the pseudocolor firstly, and then adding <code>operator</code> and then the <code>IntergralCurve</code>, then hit the draw to get the streamline results. After double clicking the IntergralCurve, we can set assocaited parameters such as the data seeds, integration steps etc. </p>
<h3 id="Generating-the-movie"><a href="#Generating-the-movie" class="headerlink" title="Generating the movie"></a>Generating the movie</h3><p>Sometimes, the animation generator does not work well, it shows the specific <code>ffmpeg</code> commands to generate the movie. There are all kinds of parameters for using the ffmpeg, check this page to get more information. This is a sample one that I used ok to create the video file, be careful that we need to use the expression such as <code>%d</code> to match the source files.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ffmpeg -i ./mesh_128_stepsize_0.1_stepnum_1000_seedsnum_512-0/mesh_128_stepsize_0.1_stepnum_1000_seedsnum_512%4d.ppm -vcodec libx264 -pix_fmt yuv420p output.mp4</span><br></pre></td></tr></table></figure>

<p>This is <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/7015489/building-video-from-images-with-ffmpeg-w-pause-between-frames">example</a> to show how to adjust the video frame rate.</p>
<h3 id="Other-small-tips"><a href="#Other-small-tips" class="headerlink" title="Other small tips"></a>Other small tips</h3><p>I once try to visualize the data of different domains into different colors. In visit, we can use <code>subset</code>-&gt;<code>domains</code> to get associated results. It is a kind of scalar visualization techiniques essentially. Then we can decrease its opacity. If we add more filters based on this such as adding the streamline, we can also see the stream line results.</p>
<p>In the paraview, it will automatically group the file with the same suffix. (Or we can create the multi block vtk file) In the visit, we could group the file by specified catalogue file. This is convenient to do, we just need to create a file with the <code>.visit</code> suffix. The contents of the file may looks like:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">!NBLOCKS 4</span><br><span class="line">Block0.vtk</span><br><span class="line">Block1.vtk</span><br><span class="line">Block2.vtk</span><br><span class="line">Block3.vtk</span><br></pre></td></tr></table></figure>
<p>The contents in this visit file can also be the file with the dir path in it, this is an exmaple to use the cpp to load the associated files.</p>
<p><a target="_blank" rel="noopener" href="https://gitlab.kitware.com/vtk/vtk-m/-/blob/master/examples/streamline_mpi/StreamlineMPI.cxx">https://gitlab.kitware.com/vtk/vtk-m/-/blob/master/examples/streamline_mpi/StreamlineMPI.cxx</a></p>
<p>Maybe there are similar meta data files in paraview that can specify how to load multiple files (maybe the vtm file), but i’m still not sure how to use it properly, it seems this file can only work for the specific type of the vtk data.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2022/09/17/Scientific-visualization-with-Visit/" data-id="clt2e6yec004d6zjr3cjm8nru" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2022/09/24/workflow-scratch/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          workflow scratch
        
      </div>
    </a>
  
  
    <a href="/2022/09/17/Working-taolu/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Working-taolu</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scalar-Visualization"><span class="toc-number">1.</span> <span class="toc-text">Scalar Visualization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector-Visualization"><span class="toc-number">2.</span> <span class="toc-text">Vector Visualization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Generating-the-movie"><span class="toc-number">3.</span> <span class="toc-text">Generating the movie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Other-small-tips"><span class="toc-number">4.</span> <span class="toc-text">Other small tips</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2024 zhe&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;godenwangzhe@gmail.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  



 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>