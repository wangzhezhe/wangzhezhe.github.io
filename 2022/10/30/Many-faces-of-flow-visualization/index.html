<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Many faces of flow visualization | AverageMind</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Necessary concepts to undersand for the flow visualization (the techinques used for the CFD analysis).">
<meta property="og:type" content="article">
<meta property="og:title" content="Many faces of flow visualization">
<meta property="og:url" content="http://yoursite.com/2022/10/30/Many-faces-of-flow-visualization/index.html">
<meta property="og:site_name" content="AverageMind">
<meta property="og:description" content="Necessary concepts to undersand for the flow visualization (the techinques used for the CFD analysis).">
<meta property="og:locale">
<meta property="article:published_time" content="2022-10-30T08:28:42.000Z">
<meta property="article:modified_time" content="2024-05-18T21:31:00.349Z">
<meta property="article:author" content="zhe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="AverageMind" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-165927341-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
<!-- Google adds -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5642436380582343"
     crossorigin="anonymous">
</script>
<!-- End Google adds -->




<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AverageMind</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Many-faces-of-flow-visualization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/10/30/Many-faces-of-flow-visualization/" class="article-date">
  <time datetime="2022-10-30T08:28:42.000Z" itemprop="datePublished">2022-10-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Visualization/">Visualization</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Many faces of flow visualization
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>Necessary concepts to undersand for the flow visualization (the techinques used for the CFD analysis).</p>
<span id="more"></span>

<h3 id="About-the-CFD"><a href="#About-the-CFD" class="headerlink" title="About the CFD"></a>About the CFD</h3><p>Its hard to avoid discussing about the vector visualization without talking about the CFD simulation. Common flow includes the smoke and the water flow.</p>
<h3 id="Basic-concepts"><a href="#Basic-concepts" class="headerlink" title="Basic concepts"></a>Basic concepts</h3><p><strong>Pathline</strong> is easist thing to understand, we look at a particular particle, and draw its path during the progress of the fluid system (there is multiple steps of the flow fluid simulation data). The trajectory or path for the given fluid element</p>
<p><strong>Sreakline</strong> are a set of fluid elements that pass through a fixed point in space. Attention, these are a set of partiles. We can image it by this way, assuming all the fluid particles are white color, any fluid particles go though the position (x,y,z) will become red color at any time during the progress of the system, then these all red particles compose the streakline. It seems that all these particles in streakline comes from or goes through the same place. The easiest thing to understand it is that you pull a cup of colored ink through a fixed point of a water channel, then that shaped curve is called the streakline. The streakline main include many different fluid elements.</p>
<p><strong>Streamline</strong> are lines that are tangent to the velocity field for each fluid particles in the flow. This is essentially an mathmetical idea which differs from previous two, we can not observe them direactly by putting particles in the flow space. Assuming we take a snapshot of the fluid space, all vectors are fixed at this time, then we do the intergration along the tanget of the vector field. Namely, the tnstantaneous tangent of vector field for the fixed time</p>
<p><strong>Timeline</strong> Intuitively, imagine that we place several small balls into a water flow, and allow the balls to follow the flow. At a certain time step, the path that connects all the balls is a timeline.</p>
<p>For steady flows, streamline streaklines and pathlines are identical.</p>
<p>For unsteady flow, they differ a lot, the best video to show related results is this <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=nuQyKGuXJOs&list=PL0EC6527BE871ABA3&index=5&t=851s">one</a>, start from 9:00. They use the instantaneous streakline to describe it, which show current positions of all particles that path through the entry in different time. particle i enter in time step i, at the time step k, we connect all the particles enter from the entry to makeup the streakline. </p>
<p>The above concepts are from the fluid dynamics, these are foundemental concepts for the fluid visualization.</p>
<p>There are more concepts in streamline visualization, such as particle trajectory, particle advecation, streamsurface, trajectory and intergration curve etc.</p>
<p><strong>particle advection as a basic unit</strong></p>
<p>From the aspect of the CS, in order to compute the streamline or pathline, the unit of work for <strong>particle advection</strong> is an <strong>advection step</strong>, which is the displacement of a particle for a short distance from one location to a nearby one. An <a target="_blank" rel="noopener" href="https://cdux.cs.uoregon.edu/pubs/ChildsHiPC.pdf">integral curve</a> is the total path a particle travels along, and it is formed by the sequence of advection steps from the seed location to the terminal location (just the integration operation). For example, when computing the pathline, we need to do the integration at each step across different steps. For the streamline, we use the data generated by same step, still need to do the integration.</p>
<p>Be careful about how many step which need to be used for different techniques. For example, the streamline only need data generated by one step, the pathline need to use the data generated by multiple steps (multiple simulation cycles).</p>
<p><strong>FTLE</strong></p>
<p>This <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=lveOu7jLNh0">video</a> provides a detailed explanation about FTLE, that name may make this things a little bit hard to understand, but actually, it is just some anaytics based on pathline. This field is used to measure how neigobor particles strech with the progression of the flow (so it also need several steps). It uses jacobbian matrix and associated eigen values&#x2F;vectors to do this analysis. But I’m still not really sure about their relationships with the stable and unstable manifolds (how it can be used to distinguish these regions). The FTLE can be used to trace the LCS (the ridge of the FTLE component). It can also tell you where the flow is most sensitive to the perturbation.</p>
<p>Be careful about different use case scenarios of these different filter. For example, the pathline and FTLE (FTLE is based on pathline) need data generated by multiple steps. But the streamline can be used to process the data generated by one step. The particle advection is the common building block or computaiton unit for processing all these units descirbed above.</p>
<p>Be careful about the eigen value, it is the eigen value for the Cauchy Green tensor.</p>
<p><strong>Q creterion</strong></p>
<p>This is a commonly used metrics to express the vortex in the flow simulation. This value is always used to express the vortex. Without diving into details (<a target="_blank" rel="noopener" href="https://www.m4-engineering.com/q-criterion-for-vortex-visualization/">https://www.m4-engineering.com/q-criterion-for-vortex-visualization/</a>, <a target="_blank" rel="noopener" href="https://web.stanford.edu/group/ctr/ResBriefs/2019/14_Banko.pdf">https://web.stanford.edu/group/ctr/ResBriefs/2019/14_Banko.pdf</a>) In paraview, we can always use the gradient filter to compute the q creterion (<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=7Cr-QSPSEQ0">https://www.youtube.com/watch?v=7Cr-QSPSEQ0</a>) and then using the contour filter to select out the vortex region. There is a still question, the input seems to be the vector but why in paraview interface, it labels the scalar array?</p>
<h3 id="Key-metadata-for-particle-advection"><a href="#Key-metadata-for-particle-advection" class="headerlink" title="Key metadata for particle advection"></a>Key metadata for particle advection</h3><p>TODO, look at particle advection code and workload estimation code</p>
<p>BoundsMap</p>
<h3 id="Fluid-flow-analysis"><a href="#Fluid-flow-analysis" class="headerlink" title="Fluid flow analysis"></a>Fluid flow analysis</h3><p>What analysis can be down based visualizated results ?</p>
<h4 id="Printout"><a href="#Printout" class="headerlink" title="Printout"></a>Printout</h4><p>Print sth out and look at the result is always the most naive thing to do the manually analysis, basically, we just render the streamline or pathline out and then look at the results</p>
<h4 id="LCS"><a href="#LCS" class="headerlink" title="LCS"></a>LCS</h4><p>The lograngian coherent structure is an important structure of fluid dynamics, we use the FTLE approach to detect these LCS structures.</p>
<p>There are some math here, and <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=lveOu7jLNh0">this</a> is a good introduction video.</p>
<p>Basically, we try to understand the fluid  by looking at the LCS.</p>
<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><p>Good referneces for necessary flow visualization concepts:</p>
<p><a target="_blank" rel="noopener" href="https://www3.nd.edu/~cwang11/2dflowvis.html">https://www3.nd.edu/~cwang11/2dflowvis.html</a><br>(There are some visulization effects about it, which is easy to understand) </p>
<p>streamline, pathline strokeline</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=8MUPQbazkLQ">https://www.youtube.com/watch?v=8MUPQbazkLQ</a></p>
<p>This is another example to explain the difference betweem streamline, pathline and stokeline</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=nkr8_DhW_RY">https://www.youtube.com/watch?v=nkr8_DhW_RY</a></p>
<p>Classical materials from NSF in 1963</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PL0EC6527BE871ABA3">https://www.youtube.com/playlist?list=PL0EC6527BE871ABA3</a></p>
<p>LCS and FTLE (really good explanation)</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=lveOu7jLNh0">https://www.youtube.com/watch?v=lveOu7jLNh0</a></p>
<p>Really good paper about different types of the LCS</p>
<p><a target="_blank" rel="noopener" href="http://georgehaller.com/reprints/annurev-fluid-010313-141322.pdf">http://georgehaller.com/reprints/annurev-fluid-010313-141322.pdf</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2022/10/30/Many-faces-of-flow-visualization/" data-id="clt2e88mi002j8xjr3zoqdioh" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2022/10/30/Proposal-taolu/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Proposal taolu
        
      </div>
    </a>
  
  
    <a href="/2022/10/24/Resource-management-tools/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Resource management tools</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#About-the-CFD"><span class="toc-number">1.</span> <span class="toc-text">About the CFD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-concepts"><span class="toc-number">2.</span> <span class="toc-text">Basic concepts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Key-metadata-for-particle-advection"><span class="toc-number">3.</span> <span class="toc-text">Key metadata for particle advection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fluid-flow-analysis"><span class="toc-number">4.</span> <span class="toc-text">Fluid flow analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Printout"><span class="toc-number">4.1.</span> <span class="toc-text">Printout</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LCS"><span class="toc-number">4.2.</span> <span class="toc-text">LCS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#References"><span class="toc-number">5.</span> <span class="toc-text">References</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2024 zhe&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;godenwangzhe@gmail.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  



 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>