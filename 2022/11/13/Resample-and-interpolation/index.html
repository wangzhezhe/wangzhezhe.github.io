<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Resample and interpolation | AverageMind</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="manipulate the data">
<meta property="og:type" content="article">
<meta property="og:title" content="Resample and interpolation">
<meta property="og:url" content="http://yoursite.com/2022/11/13/Resample-and-interpolation/index.html">
<meta property="og:site_name" content="AverageMind">
<meta property="og:description" content="manipulate the data">
<meta property="og:locale">
<meta property="article:published_time" content="2022-11-14T00:20:26.000Z">
<meta property="article:modified_time" content="2023-01-09T03:37:57.982Z">
<meta property="article:author" content="zhe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="AverageMind" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-165927341-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
<!-- Google adds -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5642436380582343"
     crossorigin="anonymous">
</script>
<!-- End Google adds -->




<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AverageMind</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Resample-and-interpolation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/11/13/Resample-and-interpolation/" class="article-date">
  <time datetime="2022-11-14T00:20:26.000Z" itemprop="datePublished">2022-11-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Visualization/">Visualization</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Resample and interpolation
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>manipulate the data</p>
<span id="more"></span>

<h3 id="Resample-the-data"><a href="#Resample-the-data" class="headerlink" title="Resample the data"></a>Resample the data</h3><p>sampling</p>
<h3 id="Decompose-data-into-blocks"><a href="#Decompose-data-into-blocks" class="headerlink" title="Decompose data into blocks"></a>Decompose data into blocks</h3><p>hexiles</p>
<p><a target="_blank" rel="noopener" href="https://vtk.org/doc/nightly/html/classvtkProbeFilter.html#details">https://vtk.org/doc/nightly/html/classvtkProbeFilter.html#details</a></p>
<h3 id="VTK-operation"><a href="#VTK-operation" class="headerlink" title="VTK operation"></a>VTK operation</h3><p>probe</p>
<p>vtkProbFilter (maybe this can avoid the case that the original data is not the uniformgrid?) the source code is located at <code>Filters/Core/vtkProbeFilter.h</code></p>
<p>This is a example<br><a target="_blank" rel="noopener" href="https://kitware.github.io/vtk-examples/site/Cxx/PolyData/InterpolateTerrain/">https://kitware.github.io/vtk-examples/site/Cxx/PolyData/InterpolateTerrain/</a></p>
<p>Find the cell and then use the cell’s interpolation function, there are multiple types of the cell</p>
<p>We need to have a good understanding about the vtk cell type</p>
<p>This examples shows all the types of the vtkCell Type</p>
<p><a target="_blank" rel="noopener" href="https://kitware.github.io/vtk-examples/site/Cxx/GeometricObjects/LinearCellDemo/">https://kitware.github.io/vtk-examples/site/Cxx/GeometricObjects/LinearCellDemo/</a></p>
<p>Even the <code>vtkLine</code> (VTK&#x2F;Common&#x2F;DataModel&#x2F;vtkLine.cxx) is an concrete example of the <code>vtkCell</code> (VTK&#x2F;Common&#x2F;DataModel), for each cell, there are <code>EvaluateLocation</code> and <code>EvaluatePosition</code> function and <code>InterpolationFunctions</code>, these are used to do some naive interpolation. </p>
<p>The dedicated point interpolation function use the different approch compared with the default one implemented by the cell operations here.</p>
<p>iso-parametric interpolation functions</p>
<p>Other types of interpolation do not have the operation of finding the cell, it just sample the points from cloud points, such as the example that use the PointInterpolator (the inputs is the list of points)</p>
<p>There are still some confusions about these operations, what are parametric coordinates? how to compute the weight etc</p>
<p>In the vtk text book <a target="_blank" rel="noopener" href="https://kitware.github.io/vtk-examples/site/VTKBook/08Chapter8/">here</a></p>
<p>There are some explanations about the VTK parametric coordinates</p>
<p>It is important to understand the meaning of the parametric coordinates in the VTK context. This coordinates are used to represents the position within the cell, its range is between 0 and 1.</p>
<p>Global coordinates </p>
<p>Local coordinates<br>To specify a location within the primary cell, we use geometric coordinates. These geometric coordinates, or parametric coordinates, are coordinates “natural” or canonical to the particular topology and dimension of a cell.</p>
<p>Every cell type will have its own parametric coordinate system</p>
<p>8-10 shows a 3d case, which is tr-linear iterpolation</p>
<p>using the vtkLine as an example, which is a concrete implementation of the vtkCell</p>
<p>DistanceToLine(get the parametric coordinates)<br>The input is the endpoint of the line and a point. The output is the distance from that point to the line and the cloestpoint to that dedicated point. The parametric coordinates is also returned here.</p>
<p>EvaluatePosition<br>This function calls the DistanceToLine to get necessary information.<br>It returns the if the associated point is in the line or out of the line. This function also compute the weight to interpolate the dedicated point based on givin points (the weight for p1 and p2 in this example)</p>
<p>EvaluateLocation</p>
<p>Then in actual probe operation, the pointData can use these weight values to construct the interpolated values.</p>
<p>This is an <a target="_blank" rel="noopener" href="https://github.com/wangzhezhe/5MCST/blob/master/vtk_example/interpolate/vtkprob_example.cpp">example</a> code to show how the prob filter works, the coars grid is the original one and then we create a fine granularity grid based on it and use the prob to sample the data accordingly.</p>
<h3 id="PointCloud"><a href="#PointCloud" class="headerlink" title="PointCloud"></a>PointCloud</h3><p>For the case that there is no cell, how could we do that? Assuming the input the data is just a point cloud. In this case, we can use the vtkPointInterpolator.</p>
<p>The form for using the filter is similar to the previous one, the good thing is that we can switch different interpolation kernel in this example.</p>
<p>This <a target="_blank" rel="noopener" href="https://github.com/wangzhezhe/5MCST/blob/master/vtk_example/interpolate/vtk_different_interp_kernel.cpp">example</a> shows that how to set the inerp kernel, this is different since the input is supposed to be the points clouds, which is more flexible compared with the previous one for cellset.</p>
<h3 id="Python-scripts-for-this"><a href="#Python-scripts-for-this" class="headerlink" title="Python scripts for this"></a>Python scripts for this</h3><h3 id="Create-datasize-as-needed-based-on-the-interpolation"><a href="#Create-datasize-as-needed-based-on-the-interpolation" class="headerlink" title="Create datasize as needed based on the interpolation"></a>Create datasize as needed based on the interpolation</h3><h3 id="More-theoretical-backend-for-this"><a href="#More-theoretical-backend-for-this" class="headerlink" title="More theoretical backend for this"></a>More theoretical backend for this</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2022/11/13/Resample-and-interpolation/" data-id="clrc9gx5g003jlxjrh02ifvwk" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2022/11/20/All-aspectes-of-vtk-io/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          All aspectes of vtk io
        
      </div>
    </a>
  
  
    <a href="/2022/11/06/Typical-core-allocation-plan/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Typical core allocation plan</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Resample-the-data"><span class="toc-number">1.</span> <span class="toc-text">Resample the data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Decompose-data-into-blocks"><span class="toc-number">2.</span> <span class="toc-text">Decompose data into blocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VTK-operation"><span class="toc-number">3.</span> <span class="toc-text">VTK operation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PointCloud"><span class="toc-number">4.</span> <span class="toc-text">PointCloud</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python-scripts-for-this"><span class="toc-number">5.</span> <span class="toc-text">Python scripts for this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-datasize-as-needed-based-on-the-interpolation"><span class="toc-number">6.</span> <span class="toc-text">Create datasize as needed based on the interpolation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#More-theoretical-backend-for-this"><span class="toc-number">7.</span> <span class="toc-text">More theoretical backend for this</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2024 zhe&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;godenwangzhe@gmail.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  



 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>